/*
                                                                 _ _    
 _ __   __ _  __ _  _____   ____ _ _ __ ___  _ __        ___  __| | | __
| '_ \ / _` |/ _` |/ _ \ \ / / _` | '_ ` _ \| '_ \      / __|/ _` | |/ /
| |_) | (_| | (_| |  __/\ V / (_| | | | | | | |_) |  _  \__ \ (_| |   < 
| .__/ \__,_|\__, |\___| \_/ \__,_|_| |_| |_| .__/  (_) |___/\__,_|_|\_\
|_|          |___/                          |_|                         
┌──────────────────┬────────────────────────────────┐
│ Name             │ Pagevamp SDK                   │
├──────────────────┼────────────────────────────────┤
│ version          │ 0.1.36                         │
├──────────────────┼────────────────────────────────┤
│ Last modified on │ 2014-07-01T15:05:47.415Z       │
├──────────────────┼────────────────────────────────┤
│ Last modified by │ Julien L <julien@pagevamp.com> │
└──────────────────┴────────────────────────────────┘
*/
!function(){function t(){this.events=new Object,this.offers=new Object,this.retroactiveList={}}t.prototype.subscribe=function(t,e){null==this.events[t]&&(this.events[t]=new Array);var n=Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random());return this.events[t].push({callback:e,token:n}),this.retroactiveList[t]&&this.inform(t,this.retroactiveList[t]),n},t.prototype.unsubscribe=function(t){for(var e in this.events)for(var n=0;n<this.events[e].length;n++)if(this.events[e][n].token==t)return this.events[e].splice(n,1),!0;return!1},t.prototype.inform=function(t,e,n){if(n&&(console.log("Retroactive inform: ",t,e),this.retroactiveList[t]=e),null!=this.events[t]){for(var i=0;i<this.events[t].length;i++)this.events[t][i].callback(e);return this.events[t].length}return!1},t.prototype.offer=function(t,e){null==this.offers[t]&&(this.offers[t]=new Object);var n=Math.round(1e5*Math.random())+"-"+Math.round(1e5*Math.random());return this.offers[t]={data:e,token:n},n},t.prototype.request=function(t,e){return null!=e&&e(this.offers[t].data),this.offers[t]?this.offers[t].data:!1},window.Arbiter=new t}(),function(t,e){meanEngine=function(){this.settings={},this.services={},this.version="alpha-1.0",this._cookiePrefix="meanEngine_",this._jsonPrefix="__JSON__"},meanEngine.prototype.init=function(){},meanEngine.prototype.set=function(t,e,n){this.settings[t]=e,n&&this.setCookie(this._cookiePrefix+t,e,365)},meanEngine.prototype.unset=function(t){return this.settings[t]&&delete this.settings[t],this.getCookie(this._cookiePrefix+t)&&this.setCookie(this._cookiePrefix+t,null,-1),!0},meanEngine.prototype.get=function(t){return this.settings[t]?this.settings[t]:this.getCookie(this._cookiePrefix+t)?this.getCookie(this._cookiePrefix+t):!1},meanEngine.prototype.service=function(t,e){return e?void(this.services[t]=e()):this.services[t]},meanEngine.prototype.setCookie=function(t,n,i){if("string"!=typeof n&&"number"!=typeof n&&(n=this._jsonPrefix+JSON.stringify(n)),i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3);var r="; expires="+o.toGMTString()}else var r="";return e.cookie=t+"="+n+r+"; path=/;",!0},meanEngine.prototype.getCookie=function(t){for(var n=t+"=",i=e.cookie.split(";"),o=0;o<i.length;o++){for(var r=i[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(n)){var s=r.substring(n.length,r.length);return s.substr(0,this._jsonPrefix.length)==this._jsonPrefix&&(s=JSON.parse(s.substr(this._jsonPrefix.length))),s}}return null},t.meanEngine=new meanEngine}(window,document),function(t){t.set("api",{protocol:"http",hostname:"127.0.0.1",port:5e3}),t.set("site",{data:JSON.parse(window.atob(window.pagevampSiteData())),page:JSON.parse(window.atob(window.pagevampPageData()))}),t.set("app",angular.module("main",[]))}(window.meanEngine),function(t){var e=function(){this.components=[],this.registeredId={}};e.prototype.register=function(t){console.log("registering ",t),this.components.push(t),this.registeredId[t.id]||(this.registeredId[t.id]={data:t})},e.prototype.init=function(){console.log("init",this.registeredId)},e.prototype.getComponentById=function(t){var e,n=this.components.length;for(e=0;n>e;e++)if(this.components[e].id==t)return this.components[e];return!1},e.prototype.getCdnPath=function(){var t=this.getComponentById("id");return t?t.data.cdnPath:!1},e.prototype.getTemplateFor=function(){var t=this.getComponentById("id");return t?t.data.template:!1},t.set("components",new e)}(window.meanEngine),function(t){var e=t.get("site").page.components;console.warn("components for this page:",e);var n,i=e.length;for(n=0;i>n;n++)t.get("components").register(e[n]);t.get("components").init()}(window.meanEngine),function(t){t.get("app").controller("head",function(t){t.title="Default title"}),t.get("app").controller("body",function(t){t.components=[{directive:"header01"},{directive:"content01"},{directive:"content01"},{directive:"content01"},{directive:"content01"},{directive:"content01"},{directive:"content01"}]})}(window.meanEngine),function(t){t.get("app").directive("componentLoader",function(t){var e=function(e,n){e.$watchCollection("components",function(){var i,o="";for(i=0;i<e.components.length;i++)o+="<div "+e.components[i].directive+"></div>";n.html(t(o)(e))})};return{link:e,scope:!0}})}(window.meanEngine);